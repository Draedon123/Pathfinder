import"../chunks/DsnmJJEf.js";import"../chunks/uDWIAH8A.js";import{av as ue,b as ge,ae as Z,d as D,m as we,e as Ee,A as I,G as be,aK as Ae,a8 as Te,ag as ae,aq as B,l as H,a7 as Ne,ax as De,j as y,aN as Me,aL as Se,a6 as re,aQ as Ie,a3 as $,at as oe,u as Oe,aU as k,aO as ve,aa as Ce,aV as F,aW as Re,aX as G,k as de,al as He,aY as ze,as as Le,aZ as qe,x as Ye,a_ as ce,q as Pe,a$ as Ve,aR as Q,b0 as te,C as z,a5 as W,X as Xe,Y as ee,Z as se,a as P,_ as ke,b1 as he,$ as V,a0 as L,c as Fe,f as Ke,h as Ue,a1 as Ze}from"../chunks/CdaaPVoF.js";import{d as Be,e as Ge}from"../chunks/DX67L_GN.js";import{p as x}from"../chunks/Dj_nLYmj.js";function ie(s,e){return e}function Qe(s,e,a){for(var r=s.items,t=[],f=e.length,l=0;l<f;l++)ze(e[l].e,t,!0);var v=f>0&&t.length===0&&a!==null;if(v){var g=a.parentNode;Le(g),g.append(a),r.clear(),S(s,e[0].prev,e[f-1].next)}qe(t,()=>{for(var _=0;_<f;_++){var m=e[_];v||(r.delete(m.k),S(s,m.prev,m.next)),de(m.e,!v)}})}function ne(s,e,a,r,t,f=null){var l=s,v={flags:e,items:new Map,first:null},g=(e&ce)!==0;if(g){var _=s;l=D?Z(we(_)):_.appendChild(ue())}D&&Ee();var m=null,T=!1,A=new Map,c=be(()=>{var p=a();return Oe(p)?p:p==null?[]:oe(p)}),i,u;function d(){We(u,i,v,A,l,t,e,r,a),f!==null&&(i.length===0?m?ve(m):m=y(()=>f(l)):m!==null&&Ce(m,()=>{m=null}))}ge(()=>{u??=Ye,i=I(c);var p=i.length;if(T&&p===0)return;T=p===0;let w=!1;if(D){var N=Ae(l)===Te;N!==(p===0)&&(l=ae(),Z(l),B(!1),w=!0)}if(D){for(var E=null,h,n=0;n<p;n++){if(H.nodeType===Ne&&H.data===De){l=H,w=!0,B(!1);break}var o=i[n],b=r(o,n);h=j(H,v,E,null,o,b,n,t,e,a),v.items.set(b,h),E=h}p>0&&Z(ae())}if(D)p===0&&f&&(m=y(()=>f(l)));else if(Me()){var C=new Set,q=Se;for(n=0;n<p;n+=1){o=i[n],b=r(o,n);var O=v.items.get(b)??A.get(b);O?(e&(F|k))!==0&&me(O,o,n,e):(h=j(null,v,null,null,o,b,n,t,e,a,!0),A.set(b,h)),C.add(b)}for(const[M,Y]of v.items)C.has(M)||q.skipped_effects.add(Y.e);q.add_callback(d)}else d();w&&B(!0),I(c)}),D&&(l=H)}function We(s,e,a,r,t,f,l,v,g){var _=(l&Ve)!==0,m=(l&(F|k))!==0,T=e.length,A=a.items,c=a.first,i=c,u,d=null,p,w=[],N=[],E,h,n,o;if(_)for(o=0;o<T;o+=1)E=e[o],h=v(E,o),n=A.get(h),n!==void 0&&(n.a?.measure(),(p??=new Set).add(n));for(o=0;o<T;o+=1){if(E=e[o],h=v(E,o),n=A.get(h),n===void 0){var b=r.get(h);if(b!==void 0){r.delete(h),A.set(h,b);var C=d?d.next:i;S(a,d,b),S(a,b,C),J(b,C,t),d=b}else{var q=i?i.e.nodes_start:t;d=j(q,a,d,d===null?a.first:d.next,E,h,o,f,l,g)}A.set(h,d),w=[],N=[],i=d.next;continue}if(m&&me(n,E,o,l),(n.e.f&G)!==0&&(ve(n.e),_&&(n.a?.unfix(),(p??=new Set).delete(n))),n!==i){if(u!==void 0&&u.has(n)){if(w.length<N.length){var O=N[0],M;d=O.prev;var Y=w[0],K=w[w.length-1];for(M=0;M<w.length;M+=1)J(w[M],O,t);for(M=0;M<N.length;M+=1)u.delete(N[M]);S(a,Y.prev,K.next),S(a,d,Y),S(a,K,O),i=O,d=K,o-=1,w=[],N=[]}else u.delete(n),J(n,i,t),S(a,n.prev,n.next),S(a,n,d===null?a.first:d.next),S(a,d,n),d=n;continue}for(w=[],N=[];i!==null&&i.k!==h;)(i.e.f&G)===0&&(u??=new Set).add(i),N.push(i),i=i.next;if(i===null)continue;n=i}w.push(n),d=n,i=n.next}if(i!==null||u!==void 0){for(var R=u===void 0?[]:oe(u);i!==null;)(i.e.f&G)===0&&R.push(i),i=i.next;var U=R.length;if(U>0){var _e=(l&ce)!==0&&T===0?t:null;if(_){for(o=0;o<U;o+=1)R[o].a?.measure();for(o=0;o<U;o+=1)R[o].a?.fix()}Qe(a,R,_e)}}_&&Pe(()=>{if(p!==void 0)for(n of p)n.a?.apply()}),s.first=a.first&&a.first.e,s.last=d&&d.e;for(var pe of r.values())de(pe.e);r.clear()}function me(s,e,a,r){(r&F)!==0&&re(s.v,e),(r&k)!==0?re(s.i,a):s.i=a}function j(s,e,a,r,t,f,l,v,g,_,m){var T=(g&F)!==0,A=(g&Re)===0,c=T?A?Ie(t,!1,!1):$(t):t,i=(g&k)===0?l:$(l),u={i,v:c,k:f,a:null,e:null,prev:a,next:r};try{if(s===null){var d=document.createDocumentFragment();d.append(s=ue())}return u.e=y(()=>v(s,c,i,_),D),u.e.prev=a&&a.e,u.e.next=r&&r.e,a===null?m||(e.first=u):(a.next=u,a.e.next=u.e),r!==null&&(r.prev=u,r.e.prev=u.e),u}finally{}}function J(s,e,a){for(var r=s.next?s.next.e.nodes_start:a,t=e?e.e.nodes_start:a,f=s.e.nodes_start;f!==null&&f!==r;){var l=He(f);t.before(f),f=l}}function S(s,e,a){e===null?s.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}const le=[...` 	
\r\fÂ \v\uFEFF`];function xe(s,e,a){var r=""+s;if(a){for(var t in a)if(a[t])r=r?r+" "+t:t;else if(r.length)for(var f=t.length,l=0;(l=r.indexOf(t,l))>=0;){var v=l+f;(l===0||le.includes(r[l-1]))&&(v===r.length||le.includes(r[v]))?r=(l===0?"":r.substring(0,l))+r.substring(v+1):l=v}}return r===""?null:r}function Je(s,e){return s==null?null:String(s)}function ye(s,e,a,r,t,f){var l=s.__className;if(D||l!==a||l===void 0){var v=xe(a,r,f);(!D||v!==s.getAttribute("class"))&&(v==null?s.removeAttribute("class"):s.className=v),s.__className=a}else if(f&&t!==f)for(var g in f){var _=!!f[g];(t==null||_!==!!t[g])&&s.classList.toggle(g,_)}return f}function $e(s,e,a,r){var t=s.__style;if(D||t!==e){var f=Je(e);(!D||f!==s.getAttribute("style"))&&(f==null?s.removeAttribute("style"):s.style.cssText=f),s.__style=e}return r}var je=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],ea=["difference","intersection","symmetricDifference","union"],fe=!1;class X extends Set{#r=new Map;#e=Q(0);#a=Q(0);#t=te||-1;constructor(e){if(super(),e){for(var a of e)super.add(a);this.#a.v=super.size}fe||this.#i()}#s(e){return te===this.#t?Q(e):$(e)}#i(){fe=!0;var e=X.prototype,a=Set.prototype;for(const r of je)e[r]=function(...t){return I(this.#e),a[r].apply(this,t)};for(const r of ea)e[r]=function(...t){I(this.#e);var f=a[r].apply(this,t);return new X(f)}}has(e){var a=super.has(e),r=this.#r,t=r.get(e);if(t===void 0){if(!a)return I(this.#e),!1;t=this.#s(!0),r.set(e,t)}return I(t),a}add(e){return super.has(e)||(super.add(e),z(this.#a,super.size),W(this.#e)),this}delete(e){var a=super.delete(e),r=this.#r,t=r.get(e);return t!==void 0&&(r.delete(e),z(t,!1)),a&&(z(this.#a,super.size),W(this.#e)),a}clear(){if(super.size!==0){super.clear();var e=this.#r;for(var a of e.values())z(a,!1);e.clear(),z(this.#a,0),W(this.#e)}}keys(){return this.values()}values(){return I(this.#e),super.values()}entries(){return I(this.#e),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return I(this.#a)}}var aa=s=>{s.preventDefault()},ra=ee('<div role="cell" tabindex="-1"></div>'),ta=ee('<div class="container svelte-c024sg"><div class="grid svelte-c024sg"></div></div>');function sa(s,e){Xe(e,!0);let a=x(e,"walls",19,()=>new X),r=x(e,"start",23,()=>[0,0]),t=x(e,"goal",23,()=>[e.width-1,e.height-1]),f=!1,l=new Set,v="add";function g(c,i,u){f=!0,u?v="remove":c===r()[0]&&i===r()[1]?v="movestart":c===t()[0]&&i===t()[1]?v="movegoal":v="add",l.add(m(c,i)),_(c,i)}function _(c,i){const u=m(c,i);if(!(!f||l.has(u)||c===r()[0]&&i===r()[1]||c===t()[0]&&i===t()[1]))switch(l.add(u),v){case"add":{a().add(u);break}case"remove":{a().delete(u);break}case"movestart":{a().delete(u),r([c,i]);break}case"movegoal":{a().delete(u),t([c,i]);break}}}function m(c,i){return`${c},${i}`}var T=ta();Ge("mouseup",he,()=>{f=!1,l.clear()});var A=V(T);ne(A,21,()=>({length:e.width}),ie,(c,i,u)=>{var d=Fe(),p=Ke(d);ne(p,17,()=>({length:e.height}),ie,(w,N,E)=>{var h=ra();let n;h.__mousedown=o=>{g(u,E,o.button===2)},h.__mousemove=()=>{_(u,E)},h.__contextmenu=[aa],se(o=>n=ye(h,1,"cell svelte-c024sg",null,n,o),[()=>({wall:a().has(m(u,E)),start:u===r()[0]&&E===r()[1],goal:u===t()[0]&&E===t()[1]})]),P(w,h)}),P(c,d)}),L(A),L(T),se(()=>$e(A,`grid-template-columns: repeat(${e.width??""}, 1fr)`)),P(s,T),ke()}Be(["mousedown","mousemove","contextmenu"]);var ia=ee('<main class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">Pathfinder</h1> <div class="centre svelte-1uha8ag" style="left: -8px; position: relative;"><div class="path-container svelte-1uha8ag"><!></div></div></main>');function va(s){var e=ia();Ue(f=>{he.title="Pathfinder"});var a=Ze(V(e),2),r=V(a),t=V(r);sa(t,{width:50,height:25}),L(r),L(a),L(e),P(s,e)}export{va as component};
