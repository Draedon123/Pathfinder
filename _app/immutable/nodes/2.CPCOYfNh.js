import"../chunks/DsnmJJEf.js";import"../chunks/ZvzJcY1O.js";import{av as fe,b as me,ae as F,d as N,m as ge,e as we,B as I,D as Ee,aK as Ae,a8 as be,ag as ee,aq as K,l as x,a7 as Te,ax as De,j as W,aN as Ne,aL as Me,a6 as re,aQ as Se,a3 as J,at as ue,u as Ie,aU as P,aO as oe,aa as Oe,aV as V,aW as Ce,aX as U,k as ve,al as Re,aY as xe,as as ye,aZ as He,x as ze,a_ as de,q as Le,a$ as $e,aR as Z,b0 as ae,G as y,a5 as G,X as qe,Y as j,Z as te,a as $,_ as Ye,b1 as ce,$ as q,a0 as H,c as Pe,f as Ve,h as Xe,a1 as Be}from"../chunks/DwEQ14OI.js";import{d as Fe,e as Ke}from"../chunks/CwN0fDZF.js";import{p as Ue}from"../chunks/r-AUkAIt.js";function se(s,r){return r}function Ze(s,r,e){for(var a=s.items,t=[],n=r.length,l=0;l<n;l++)xe(r[l].e,t,!0);var o=n>0&&t.length===0&&e!==null;if(o){var _=e.parentNode;ye(_),_.append(e),a.clear(),S(s,r[0].prev,r[n-1].next)}He(t,()=>{for(var c=0;c<n;c++){var h=r[c];o||(a.delete(h.k),S(s,h.prev,h.next)),ve(h.e,!o)}})}function ie(s,r,e,a,t,n=null){var l=s,o={flags:r,items:new Map,first:null},_=(r&de)!==0;if(_){var c=s;l=N?F(ge(c)):c.appendChild(fe())}N&&we();var h=null,A=!1,m=new Map,g=Ee(()=>{var w=e();return Ie(w)?w:w==null?[]:ue(w)}),f,d;function v(){Ge(d,f,o,m,l,t,r,a,e),n!==null&&(f.length===0?h?oe(h):h=W(()=>n(l)):h!==null&&Oe(h,()=>{h=null}))}me(()=>{d??=ze,f=I(g);var w=f.length;if(A&&w===0)return;A=w===0;let E=!1;if(N){var b=Ae(l)===be;b!==(w===0)&&(l=ee(),F(l),K(!1),E=!0)}if(N){for(var D=null,p,i=0;i<w;i++){if(x.nodeType===Te&&x.data===De){l=x,E=!0,K(!1);break}var u=f[i],T=a(u,i);p=k(x,o,D,null,u,T,i,t,r,e),o.items.set(T,p),D=p}w>0&&F(ee())}if(N)w===0&&n&&(h=W(()=>n(l)));else if(Ne()){var C=new Set,z=Me;for(i=0;i<w;i+=1){u=f[i],T=a(u,i);var O=o.items.get(T)??m.get(T);O?(r&(V|P))!==0&&he(O,u,i,r):(p=k(null,o,null,null,u,T,i,t,r,e,!0),m.set(T,p)),C.add(T)}for(const[M,L]of o.items)C.has(M)||z.skipped_effects.add(L.e);z.add_callback(v)}else v();E&&K(!0),I(g)}),N&&(l=x)}function Ge(s,r,e,a,t,n,l,o,_){var c=(l&$e)!==0,h=(l&(V|P))!==0,A=r.length,m=e.items,g=e.first,f=g,d,v=null,w,E=[],b=[],D,p,i,u;if(c)for(u=0;u<A;u+=1)D=r[u],p=o(D,u),i=m.get(p),i!==void 0&&(i.a?.measure(),(w??=new Set).add(i));for(u=0;u<A;u+=1){if(D=r[u],p=o(D,u),i=m.get(p),i===void 0){var T=a.get(p);if(T!==void 0){a.delete(p),m.set(p,T);var C=v?v.next:f;S(e,v,T),S(e,T,C),Q(T,C,t),v=T}else{var z=f?f.e.nodes_start:t;v=k(z,e,v,v===null?e.first:v.next,D,p,u,n,l,_)}m.set(p,v),E=[],b=[],f=v.next;continue}if(h&&he(i,D,u,l),(i.e.f&U)!==0&&(oe(i.e),c&&(i.a?.unfix(),(w??=new Set).delete(i))),i!==f){if(d!==void 0&&d.has(i)){if(E.length<b.length){var O=b[0],M;v=O.prev;var L=E[0],X=E[E.length-1];for(M=0;M<E.length;M+=1)Q(E[M],O,t);for(M=0;M<b.length;M+=1)d.delete(b[M]);S(e,L.prev,X.next),S(e,v,L),S(e,X,O),f=O,v=X,u-=1,E=[],b=[]}else d.delete(i),Q(i,f,t),S(e,i.prev,i.next),S(e,i,v===null?e.first:v.next),S(e,v,i),v=i;continue}for(E=[],b=[];f!==null&&f.k!==p;)(f.e.f&U)===0&&(d??=new Set).add(f),b.push(f),f=f.next;if(f===null)continue;i=f}E.push(i),v=i,f=i.next}if(f!==null||d!==void 0){for(var R=d===void 0?[]:ue(d);f!==null;)(f.e.f&U)===0&&R.push(f),f=f.next;var B=R.length;if(B>0){var pe=(l&de)!==0&&A===0?t:null;if(c){for(u=0;u<B;u+=1)R[u].a?.measure();for(u=0;u<B;u+=1)R[u].a?.fix()}Ze(e,R,pe)}}c&&Le(()=>{if(w!==void 0)for(i of w)i.a?.apply()}),s.first=e.first&&e.first.e,s.last=v&&v.e;for(var _e of a.values())ve(_e.e);a.clear()}function he(s,r,e,a){(a&V)!==0&&re(s.v,r),(a&P)!==0?re(s.i,e):s.i=e}function k(s,r,e,a,t,n,l,o,_,c,h){var A=(_&V)!==0,m=(_&Ce)===0,g=A?m?Se(t,!1,!1):J(t):t,f=(_&P)===0?l:J(l),d={i:f,v:g,k:n,a:null,e:null,prev:e,next:a};try{if(s===null){var v=document.createDocumentFragment();v.append(s=fe())}return d.e=W(()=>o(s,g,f,c),N),d.e.prev=e&&e.e,d.e.next=a&&a.e,e===null?h||(r.first=d):(e.next=d,e.e.next=d.e),a!==null&&(a.prev=d,a.e.prev=d.e),d}finally{}}function Q(s,r,e){for(var a=s.next?s.next.e.nodes_start:e,t=r?r.e.nodes_start:e,n=s.e.nodes_start;n!==null&&n!==a;){var l=Re(n);t.before(n),n=l}}function S(s,r,e){r===null?s.first=e:(r.next=e,r.e.next=e&&e.e),e!==null&&(e.prev=r,e.e.prev=r&&r.e)}const ne=[...` 	
\r\fÂ \v\uFEFF`];function Qe(s,r,e){var a=""+s;if(e){for(var t in e)if(e[t])a=a?a+" "+t:t;else if(a.length)for(var n=t.length,l=0;(l=a.indexOf(t,l))>=0;){var o=l+n;(l===0||ne.includes(a[l-1]))&&(o===a.length||ne.includes(a[o]))?a=(l===0?"":a.substring(0,l))+a.substring(o+1):l=o}}return a===""?null:a}function We(s,r){return s==null?null:String(s)}function Je(s,r,e,a,t,n){var l=s.__className;if(N||l!==e||l===void 0){var o=Qe(e,a,n);(!N||o!==s.getAttribute("class"))&&(o==null?s.removeAttribute("class"):s.className=o),s.__className=e}else if(n&&t!==n)for(var _ in n){var c=!!n[_];(t==null||c!==!!t[_])&&s.classList.toggle(_,c)}return n}function ke(s,r,e,a){var t=s.__style;if(N||t!==r){var n=We(r);(!N||n!==s.getAttribute("style"))&&(n==null?s.removeAttribute("style"):s.style.cssText=n),s.__style=r}return a}var je=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],er=["difference","intersection","symmetricDifference","union"],le=!1;class Y extends Set{#a=new Map;#e=Z(0);#r=Z(0);#t=ae||-1;constructor(r){if(super(),r){for(var e of r)super.add(e);this.#r.v=super.size}le||this.#i()}#s(r){return ae===this.#t?Z(r):J(r)}#i(){le=!0;var r=Y.prototype,e=Set.prototype;for(const a of je)r[a]=function(...t){return I(this.#e),e[a].apply(this,t)};for(const a of er)r[a]=function(...t){I(this.#e);var n=e[a].apply(this,t);return new Y(n)}}has(r){var e=super.has(r),a=this.#a,t=a.get(r);if(t===void 0){if(!e)return I(this.#e),!1;t=this.#s(!0),a.set(r,t)}return I(t),e}add(r){return super.has(r)||(super.add(r),y(this.#r,super.size),G(this.#e)),this}delete(r){var e=super.delete(r),a=this.#a,t=a.get(r);return t!==void 0&&(a.delete(r),y(t,!1)),e&&(y(this.#r,super.size),G(this.#e)),e}clear(){if(super.size!==0){super.clear();var r=this.#a;for(var e of r.values())y(e,!1);r.clear(),y(this.#r,0),G(this.#e)}}keys(){return this.values()}values(){return I(this.#e),super.values()}entries(){return I(this.#e),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return I(this.#r)}}var rr=s=>{s.preventDefault()},ar=j('<div role="cell" tabindex="-1"></div>'),tr=j('<div class="container svelte-c024sg"><div class="grid svelte-c024sg"></div></div>');function sr(s,r){qe(r,!0);let e=Ue(r,"walls",19,()=>new Y),a=!1,t=new Set,n="add";function l(A,m,g){a=!0,n=g,t.add(_(A,m)),o(A,m)}function o(A,m){const g=_(A,m);!a||t.has(g)||(t.add(g),n==="add"?e().add(g):e().delete(g))}function _(A,m){return`${A},${m}`}var c=tr();Ke("mouseup",ce,()=>{a=!1,t.clear()});var h=q(c);ie(h,21,()=>({length:r.width}),se,(A,m,g)=>{var f=Pe(),d=Ve(f);ie(d,17,()=>({length:r.height}),se,(v,w,E)=>{var b=ar();let D;b.__mousedown=p=>{l(g,E,p.button===2?"remove":"add")},b.__mousemove=()=>{o(g,E)},b.__contextmenu=[rr],te(p=>D=Je(b,1,"cell svelte-c024sg",null,D,p),[()=>({wall:e().has(_(g,E))})]),$(v,b)}),$(A,f)}),H(h),H(c),te(()=>ke(h,`grid-template-columns: repeat(${r.width??""}, 1fr)`)),$(s,c),Ye()}Fe(["mousedown","mousemove","contextmenu"]);var ir=j('<main class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">Pathfinder</h1> <div class="centre svelte-1uha8ag" style="left: -8px; position: relative;"><div class="path-container svelte-1uha8ag"><!></div></div></main>');function vr(s){var r=ir();Xe(n=>{ce.title="Pathfinder"});var e=Be(q(r),2),a=q(e),t=q(a);sr(t,{width:50,height:40}),H(a),H(e),H(r),$(s,r)}export{vr as component};
